/**
 * ByteBuffer v0.0.1
 * Copyright (c) 2012 Tim Kurvers <http://moonsphere.net>
 *
 * Wrapper for ArrayBuffer/DataView maintaining index and default endianness.
 * Supports arbitrary reading/writing, automatic growth, slicing, cloning and
 * reversing as well as UTF-8 characters and NULL-terminated C-strings.
 *
 * The contents of this file are subject to the MIT License, under which
 * this library is licensed. See the LICENSE file for the full license.
 */
var ByteBuffer;ByteBuffer=function(){function f(a,b){var c;a==null&&(a=0),b==null&&(b=this.constructor.BIG_ENDIAN),this._buffer=null,this._raw=null,this._view=null,this._order=b,this._index=0,a.byteLength!=null?a.buffer!=null?c=a.buffer.slice(0):c=a.slice(0):a.length!=null?c=(new Uint8Array(a)).buffer:c=new ArrayBuffer(a),this._setup(c)}"use strict";var a,b,c,d,e=this;return f.LITTLE_ENDIAN=!0,f.BIG_ENDIAN=!1,a=function(a,b){return Object.defineProperty(f.prototype,a,{get:b,enumerable:!0,configurable:!0})},c=function(a,b){return Object.defineProperty(f.prototype,a,{set:b,enumerable:!0,configurable:!0})},f.prototype._setup=function(a){return this._buffer=a,this._raw=new Uint8Array(this._buffer),this._view=new DataView(this._buffer)},a("buffer",function(){return this._buffer}),a("view",function(){return this._view}),a("length",function(){return this._buffer.byteLength}),a("byteLength",function(){return this.length}),a("order",function(){return this._order}),c("order",function(a){return this._order=!!a}),a("index",function(){return this._index}),c("index",function(a){if(a<0||a>this.length)throw new RangeError("Invalid index "+a+", should be between 0 and "+this.length);return this._index=a}),f.prototype.front=function(){return this._index=0,this},f.prototype.end=function(){return this._index=this.length,this},f.prototype.skip=function(a){return a==null&&(a=1),this.index+=a,this},a("available",function(){return this.length-this._index}),b=function(a,b){return function(c){var d;c==null&&(c=this._order);if(b>this.available)throw new Error("Cannot read "+b+" byte(s), "+this.available+" available");return d=this._view[a](this._index,c),this._index+=b,d}},d=function(a,b){return function(c,d){d==null&&(d=this._order);if(b>this.available)throw new Error("Cannot write "+c+" using "+b+" byte(s), "+this.available+" available");return this._view[a](this._index,c,d),this._index+=b,this}},f.prototype.readByte=b("getInt8",1),f.prototype.readUnsignedByte=b("getUint8",1),f.prototype.readShort=b("getInt16",2),f.prototype.readUnsignedShort=b("getUint16",2),f.prototype.readInt=b("getInt32",4),f.prototype.readUnsignedInt=b("getUint32",4),f.prototype.readFloat=b("getFloat32",4),f.prototype.readDouble=b("getFloat64",8),f.prototype.writeByte=d("setInt8",1),f.prototype.writeUnsignedByte=d("setUint8",1),f.prototype.writeShort=d("setInt16",2),f.prototype.writeUnsignedShort=d("setUint16",2),f.prototype.writeInt=d("setInt32",4),f.prototype.writeUnsignedInt=d("setUint32",4),f.prototype.writeFloat=d("setFloat32",4),f.prototype.writeDouble=d("setFloat64",8),f}.call(this);